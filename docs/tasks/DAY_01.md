# Day 01 — Стартовый план задач

Цель дня: поднять скелет прототипа ядра (движение → автоатака/снаряды → опыт), собрать площадку для быстрых итераций и измерений. В конце дня — играбельная песочница 3–5 минут с чёткой управляемостью и читаемостью.

## Фокус дня
- Управление игроком: движение, рывок (iFrames, КД)
- Песочница: камера/арена, манекены/простые враги
- Базовые снаряды и столкновения
- Подбор опыта и индикатор уровня (без драфта логики, только заглушка)
- Инфраструктура: структура проекта, .gitignore, логирование аналитики в файл

---

## Задачи (приоритет по убыванию)

### T01 — Инициализация проекта (C# + Raylib-cs) и репозитория
- Приоритет: P0 | Оценка: 0.5ч
- Требования:
  - Создать `src/EchoesGame` (dotnet console)
  - Подключить пакет `Raylib-cs`
  - Добавить `run_game.bat`, `docs/DEV_SETUP_CS.md`, `.gitignore`
- Критерии приёмки:
  - Проект открывается и собирается «пустой сценой»

### T02 — Сцена «ArenaSandbox» (арена/рамки)
- Приоритет: P0 | Оценка: 1ч
- Требования:
  - Плоская арена средних размеров, ограничения/рамки
  - Рамки арены, за которые нельзя выйти (пока без камеры)
- Критерии приёмки:
  - Игрок остаётся в зоне; камера не дёргается при рывке

### T03 — Контроллер игрока (движение)
- Приоритет: P0 | Оценка: 1ч
- Требования:
  - WASD/стик, нормализация диагонали, сглаживание
  - Настраиваемые скорости, ускорение/торможение
- Критерии приёмки:
  - Предсказуемый контроль, без скольжения и дрожи

### T04 — Рывок с iFrames и КД
- Приоритет: P0 | Оценка: 1ч
- Требования:
  - Рывок на Shift/B, iFrames 0.2–0.35с, КД 4–6с (параметры)
  - Индикатор КД (минимальный HUD)
- Критерии приёмки:
  - Во время iFrames игрок не получает урон от врагов/снарядов

### T05 — Базовый снаряд и пуллинг (Raylib)
- Приоритет: P0 | Оценка: 1ч
- Требования:
  - Прототип автоатаки: пули по направлению взгляда/движения каждые N мс
  - Пул объектов, коллизии с врагами/стенами, урон
- Критерии приёмки:
  - На экране нет мусора от уничтоженных пуль, стабильный FPS

### T06 — Враг‑манекен и спавнер волн (Raylib)
- Приоритет: P1 | Оценка: 1ч
- Требования:
  - Простейший «чейзер»: идёт к игроку, наносит контактный урон
  - Спавнер: равномерные волны с ростом плотности
- Критерии приёмки:
  - 60–120 целей за 2–3 минуты без просадок

### T07 — Опыт‑кристаллы и уровень
- Приоритет: P1 | Оценка: 1ч
- Требования:
  - Дроп кристалла при смерти врага, магнит радиуса R
  - Полоса уровня с числом текущего уровня (без драфта апгрейдов)
- Критерии приёмки:
  - Уровень растёт, кристаллы притягиваются в радиусе

### T08 — Мини‑HUD и отладочный оверлей
- Приоритет: P1 | Оценка: 0.5ч
- Требования:
  - Показ КД рывка, полоска уровня, счётчик врагов на сцене
  - Кнопка «Pause», перезапуск сцены
- Критерии приёмки:
  - Все индикаторы обновляются в реальном времени

### T09 — Логирование аналитики (файл)
- Приоритет: P2 | Оценка: 0.5ч
- Требования:
  - События: start_run, dash, projectile_hit, enemy_kill, xp_pickup, level_up, death
  - Запись JSON‑строк в локальный файл `builds/devlogs/events.log`
- Критерии приёмки:
  - Файл создаётся и пополняется во время сессии

### T10 — QA чек‑лист и видео‑демо
- Приоритет: P2 | Оценка: 0.5ч
- Требования:
  - Пройти сценарии: движение по диагонали, спам рывка, вал огня по толпе
  - Записать 30–60 сек геймплея (GIF/видео) в `builds/demos`
- Критерии приёмки:
  - Читаемость паттернов, отсутствие критических багов

---

## Зависимости/заметки
- T04 зависит от T03 (позиция/направление)
- T05 зависит от T03 (ориентация/направление)
- T07 зависит от T06 (дроп из врагов)

## Итог дня (Definition of Done)
- Игрок двигается и рывкует с iFrames и КД
- Есть враги‑манекены и автоатака, которая их убивает
- Падает опыт, растёт уровень, простой HUD
- Песочница стабильна 3–5 минут, есть лог событий

---

## Статус выполнения (факт)
- T01 — Инициализация проекта: Выполнено
  - Создан `src/EchoesGame`, добавлен `Raylib-cs 6.0.0`, базовый цикл, батник запуска заменён на `EchoesOfTheLastStar.bat`
  - Структура `docs/`, `.gitignore`, CI workflow, лицензия — добавлены
- T02 — Сцена «ArenaSandbox»: Выполнено (расширено)
  - Большой мир (4096×4096), стены/границы, камера `Camera2D`, тайлинг пола/стен
- T03 — Контроллер игрока (движение): Выполнено
  - Нормализация, параметры скорости, сглаживание
- T04 — Рывок с iFrames и КД: Выполнено
  - iFrames, КД с индикатором в HUD
- T05 — Базовый снаряд и пуллинг: Выполнено
  - Пуллинг пуль, урон, коллизии, автометательная стрельба
- T06 — Враг‑манекен и спавнер: Выполнено (расширено)
  - Чейзеры + вариации (Tank, Sprinter), эскалация по threat, пачечный спавн, элиты (Shielded/Berserk)
- T07 — Опыт‑кристаллы и уровень: Выполнено (расширено)
  - Орбы XP с магнитом, кривая XP ускорена, драфт апгрейдов, стакование модов на HUD
- T08 — Мини‑HUD и оверлей: Выполнено (расширено)
  - FPS, Dash CD, HP бар, список активных модов, счётчики пуль/врагов
- T09 — Логирование аналитики: Частично
  - Реализовано событие `start_run`; остальные события перенесены на День 02
- T10 — QA чек‑лист и видео‑демо: Не выполнено → перенесено на День 02

### Дополнительно сделано сверх плана
- Алтари/Пакты (баф+дебаф) по таймеру, улучшен UI пактов (красный тинт, крупные карточки, перенос и тени текста)
- Враги смотрят на игрока; у элит визуальные отличия (щитовой белый круг, берсерк красный тинт), масштаб +25%
